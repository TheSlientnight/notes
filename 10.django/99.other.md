# 5. 模板(前端使用vue,不再更新末班使用)
## 5.1 模板语法
### 5.1.1 块标签%变量标签
```django
<!-- 块标签 -->
 {% block name %}
    ...content...
 {% endblock %}

 <!-- 变量标签 -->
 {{ name }}


 <!-- 赋值操作 -->
 {% with total_like=article.users_like.count %}
 {% endwith %}
```
### 5.1.2 静态资源
```django
<!-- {% load staticfiles %} django3.0已经弃用 -->
{% load static %}
<!-- 引入静态资源 -->

{% static '/images/logo.png' %}
<!-- 动态获取静态资源路径 -->
```
### 5.1.3 超链接
```django
{% url 'blog:blog_title' %}
<!-- blog应用中的blog_title视图的路由 -->
```

### 5.1.2 继承
```django
{% extends "base.html" %}
```
继承后可重写父模板的块标签重写

### 5.1.3 for循环
render模板时将参数一并传入
```django
{% for blog in blogs %}
    {{ blog.title }}  <!-- 引用变量 -->
{% empty %}
    可选项,当blogs为空时触发
{% endfor %}

<!-- 只能有用在for中,从1开始计数 -->
{{ forloop.counter }}
<!-- 从0开始计数 -->
{{ forloop.counter0 }}
```
### 5.1.4 if判断
```django
{% if condition %}
    do...something
{% endif %}

{% if condition %}
    do...something
{% else %}
    do...something
{% endif %}
```
### 5.1.5 登录状态
```django
{% user.authenticated %}
<!-- 返回用户登录状态,已登录为True -->

```
## 获取路由
```django
{% url 'blog:blog_article' %}
<!-- 获取路由, blog:为blog应用, blog_article:为blog_article端点路由(后端详情可见命名路由) -->
```
## 5.2 模板路径
**在`setting.py`文件中**

1. `TEMPLATES`的`APP_DIRS`:引擎是否在子应用程序（的目录）内查找模板源文件。
2. `TEMPLATES`的`'DIRS': [os.path.join(BASE_DIR, 'templates'), ]`: 如果需要采用在根目录内统一管理模板文件,则需要指定模板目录列表,否则为空列表
3. `STATIC_URL = '/static/'`:访问静态资源的path
4. `STATICFILES_DIRS = (os.path.join(BASE_DIR, "static"), )`: 静态资源文件夹
5. `STATICFILES_FINDERS`静态资源查找策略,隐私变量,在`setting.py`中没有展示
```py
STATICFILES_FINDERS = [
    'django.contrib.staticfiles.finders.FileSystemFinder',  # 查找存储在STATICFILES_DIRS设置中的文件
    'django.contrib.staticfiles.finders.AppDirectoriesFinder',  # 每个应用程序的子目录中static
]
```

# 4. 创建用户
## 4.1 创建管理员
`python3 manage.py createsuperuser` 创建管理员

http://127.0.0.1:8000/admin/ 访问管理页面
